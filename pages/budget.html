<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self' https://generativelanguage.googleapis.com;">
    <title data-i18n-key="app_title">스마트 예산 노트</title>
    <link rel="stylesheet" href="../scripts/budget.css">
    <link rel="stylesheet" href="../scripts/remixicon.css">
    <script src="../scripts/chart.js"></script>
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicons/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png">
</head>
<body>
    <header>
        <h1 data-i18n-key="app_title">Budget Tool</h1>
        <div class="header-controls">
            <button id="currency-toggle" class="icon-btn">₩</button>
            <button id="language-toggle" class="icon-btn">EN</button>
            <button id="darkmode-toggle" class="icon-btn"><i class="ri-moon-line"></i></button>
        </div>
    </header>

    <main class="container">

        <section class="budget-section dashboard-section">
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-title" data-i18n-key="label_net_salary">순수입 (실수령액)</div>
                    <div class="stat-value" id="dashboard-net-income">$0.00</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title" data-i18n-key="label_total_expenses">총지출</div>
                    <div class="stat-value" id="dashboard-total-expenses">$0.00</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title" data-i18n-key="label_remaining_budget">남은 예산</div>
                    <div class="stat-value" id="dashboard-remaining">$0.00</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title" data-i18n-key="label_savings_rate">저축률</div>
                    <div class="stat-value" id="dashboard-savings-rate">0%</div>
                </div>
            </div>
        </section>
        
        <section class="budget-section calculation-mode-section">
            <div class="section-header">
                <h2 data-i18n-key="section_calculation_mode_title">계산 방식 선택</h2>
                <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_calculation_mode">계산 방식을 선택합니다. '기본 모드'는 세후 순수입을 기준으로, '고급 모드'는 세전 총수입과 각종 공제 항목을 직접 입력하여 더 상세하게 계산합니다.</span></div>
            </div>
            <div class="mode-toggle-container">
                <span data-i18n-key="mode_simple">기본 모드</span>
                <label class="switch"><input type="checkbox" id="mode-toggle-checkbox"><span class="slider round"></span></label>
                <span data-i18n-key="mode_advanced">고급 모드</span>
            </div>
        </section>

        <div id="advanced-mode-container" class="hidden">
            <section class="budget-section">
                <div class="section-header"><h2 data-i18n-key="section_salary_title">Gross Income</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_salary">세금을 제하기 전의 총 수입을 입력합니다. '추가 수입' 버튼으로 비정기적인 수입을 더할 수 있습니다.</span></div></div>
                <form id="salary-form">
                    <div class="form-group">
                        <label for="salary-gross" data-i18n-key="label_base_salary">기본 급여</label>
                        <div class="input-container salary-input-container">
                            <select id="salary-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select>
                            <input type="number" id="salary-gross" class="form-control" placeholder="0.00" value="0" min="0">
                        </div>
                    </div>
                    <div class="custom-list" id="custom-income-list"></div>
                    <button type="button" class="btn add-custom-btn" data-type="income" data-i18n-key="btn_add_income">추가 수입</button>
                    <p class="annual-salary-summary hidden"><span data-i18n-key="label_annual_salary">Annual Gross Salary:</span> <span id="annual-salary-summary-display">$0.00</span></p>
                </form>
            </section>
            <section class="budget-section">
                <div class="section-header"><h2 data-i18n-key="section_taxes_title">Taxes</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_taxes">급여에서 원천징수되는 세금 항목들을 입력합니다.</span></div></div>
                <div class="form-group"><label for="tax-frequency-select" data-i18n-key="label_frequency">Frequency:</label><select id="tax-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select></div>
                <div class="form-grid">
                    <div class="form-group" data-item-id="tax-federal-1"><label><span data-i18n-key="label_federal_withholding">Federal Withholding</span><span class="category-tag"></span></label><input type="number" id="tax-federal-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="tax-state-1"><label><span data-i18n-key="label_state_tax">State Tax</span><span class="category-tag"></span></label><input type="number" id="tax-state-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="tax-oasdi-1"><label><span data-i18n-key="label_oasdi">OASDI</span><span class="category-tag"></span></label><input type="number" id="tax-oasdi-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="tax-medicare-1"><label><span data-i18n-key="label_medicare">Medicare</span><span class="category-tag"></span></label><input type="number" id="tax-medicare-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="tax-casdi-1"><label><span data-i18n-key="label_ca_sdi">CA SDI</span><span class="category-tag"></span></label><input type="number" id="tax-casdi-1" class="form-control" min="0" value="0"></div>
                </div>
                <div class="custom-list" id="tax-custom-list"></div>
                <button class="btn add-custom-btn" data-type="tax" data-i18n-key="btn_add_item">Add Item</button>
                <div class="chart-container"><canvas id="tax-chart"></canvas></div>
            </section>
            <section class="budget-section">
                <div class="section-header"><h2 data-i18n-key="section_pre_tax_title">Pre-Tax Deductions</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_pre_tax">세금을 부과하기 전에 총수입에서 공제되는 항목들입니다.</span></div></div>
                <div class="form-group"><label for="pre-tax-frequency-select" data-i18n-key="label_frequency">Frequency:</label><select id="pre-tax-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select></div>
                <div class="form-grid">
                    <div class="form-group" data-item-id="deduct-medical-1"><label><span data-i18n-key="label_medical_premium">Medical Premium</span><span class="category-tag"></span></label><input type="number" id="deduct-medical-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-dental-1"><label><span data-i18n-key="label_dental_premium">Dental Premium</span><span class="category-tag"></span></label><input type="number" id="deduct-dental-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-vision-1"><label><span data-i18n-key="label_vision_premium">Vision Premium</span><span class="category-tag"></span></label><input type="number" id="deduct-vision-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-401k-trad-1"><label><span data-i18n-key="label_401k_traditional">401k Traditional</span><span class="category-tag"></span></label><input type="number" id="deduct-401k-trad-1" class="form-control" min="0" value="0"></div>
                </div>
                <div class="custom-list" id="pre-tax-custom-list"></div>
                <button class="btn add-custom-btn" data-type="pre-tax" data-i18n-key="btn_add_item">Add Item</button>
                <div class="chart-container"><canvas id="pre-tax-deduct-chart"></canvas></div>
            </section>
            <section class="budget-section">
                <div class="section-header"><h2 data-i18n-key="section_post_tax_title">Post-Tax Deductions</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_post_tax">세금을 납부한 후, 순수입에서 공제되는 항목들입니다.</span></div></div>
                <div class="form-group"><label for="post-tax-frequency-select" data-i18n-key="label_frequency">Frequency:</label><select id="post-tax-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select></div>
                <div class="form-grid">
                    <div class="form-group" data-item-id="deduct-spp-1"><label><span data-i18n-key="label_spp">SPP</span><span class="category-tag"></span></label><input type="number" id="deduct-spp-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-adnd-1"><label><span data-i18n-key="label_adnd">AD&D</span><span class="category-tag"></span></label><input type="number" id="deduct-adnd-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-401k-roth-1"><label><span data-i18n-key="label_401k_roth">401k Roth</span><span class="category-tag"></span></label><input type="number" id="deduct-401k-roth-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-ltd-1"><label><span data-i18n-key="label_ltd">LTD</span><span class="category-tag"></span></label><input type="number" id="deduct-ltd-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-critical-illness-1"><label><span data-i18n-key="label_critical_illness">Critical Illness</span><span class="category-tag"></span></label><input type="number" id="deduct-critical-illness-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-accident-insurance-1"><label><span data-i18n-key="label_accident_insurance">Accident Insurance</span><span class="category-tag"></span></label><input type="number" id="deduct-accident-insurance-1" class="form-control" min="0" value="0"></div>
                    <div class="form-group" data-item-id="deduct-legal-services-1"><label><span data-i18n-key="label_legal_services">Legal Services</span><span class="category-tag"></span></label><input type="number" id="deduct-legal-services-1" class="form-control" min="0" value="0"></div>
                </div>
                <div class="custom-list" id="post-tax-custom-list"></div>
                <button class="btn add-custom-btn" data-type="post-tax" data-i18n-key="btn_add_item">Add Item</button>
                <div class="chart-container"><canvas id="post-tax-deduct-chart"></canvas></div>
            </section>
            <section class="budget-section">
                <div class="section-header">
                    <h2 data-i18n-key="section_category_title">Category Management</h2>
                    <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_category">Add, view, and delete your expense categories here.</span></div>
                </div>
                <div id="category-form" class="form-grid">
                    <div class="form-group"><label for="category-name-input" data-i18n-key="label_category_name">Category Name</label><input type="text" id="category-name-input" class="form-control" placeholder="e.g., Subscriptions"></div>
                    <div class="form-group"><label for="category-type-select" data-i18n-key="label_category_type">Category Type</label><select id="category-type-select" class="form-control"><option value="needs" data-i18n-key="tag_needs">Needs</option><option value="wants" data-i18n-key="tag_wants">Wants</option><option value="savings" data-i18n-key="tag_savings">Savings</option><option value="debt" data-i18n-key="tag_debt">Debt</option></select></div>
                    <button id="add-category-btn" class="btn" data-i18n-key="btn_add_category">Add Category</button>
                </div>
                <div id="category-list-container"></div>
            </section>
        </div>

        <section id="simple-mode-container" class="budget-section">
            <div class="section-header"><h2 data-i18n-key="section_net_income_title">Net Income</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_net_income">세금과 공제 항목이 모두 빠져나간 후, 실제로 통장에 입금되는 월 순수입을 입력합니다.</span></div></div>
            <div class="form-group">
                <label for="net-income-input" data-i18n-key="label_net_income">월 순수입 (세후)</label>
                <input type="number" id="net-income-input" class="form-control" placeholder="0.00" value="0" min="0">
            </div>
        </section>

        <section class="budget-section">
            <div class="section-header"><h2 data-i18n-key="section_expenses_title">Expense Management</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_expenses">순수입(실수령액)에서 나가는 모든 지출을 입력합니다.</span></div></div>
            <div class="form-group">
                <label for="expense-frequency-select" data-i18n-key="label_frequency">Frequency:</label>
                <select id="expense-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select>
            </div>
            <div class="form-grid expenses-grid">
                <div class="form-group" data-item-id="exp-rent-1"><label><span data-i18n-key="label_rent_mortgage">Rent/Mortgage</span><span class="category-tag"></span></label><input type="number" id="exp-rent-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-utilities-1"><label><span data-i18n-key="label_utilities">Utilities</span><span class="category-tag"></span></label><input type="number" id="exp-utilities-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-internet-1"><label><span data-i18n-key="label_internet">Internet</span><span class="category-tag"></span></label><input type="number" id="exp-internet-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-phone-1"><label><span data-i18n-key="label_phone">Phone Bill</span><span class="category-tag"></span></label><input type="number" id="exp-phone-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-groceries-1"><label><span data-i18n-key="label_groceries">Groceries</span><span class="category-tag"></span></label><input type="number" id="exp-groceries-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-transport-1"><label><span data-i18n-key="label_transportation">Transportation</span><span class="category-tag"></span></label><input type="number" id="exp-transport-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-health-1"><label><span data-i18n-key="label_health_wellness">Health/Wellness</span><span class="category-tag"></span></label><input type="number" id="exp-health-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-insurance-1"><label><span data-i18n-key="label_insurance">Insurance</span><span class="category-tag"></span></label><input type="number" id="exp-insurance-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-children-1"><label><span data-i18n-key="label_children">Children</span><span class="category-tag"></span></label><input type="number" id="exp-children-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-dining-1"><label><span data-i18n-key="label_dining_out">Dining Out</span><span class="category-tag"></span></label><input type="number" id="exp-dining-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-shopping-1"><label><span data-i18n-key="label_shopping">Shopping</span><span class="category-tag"></span></label><input type="number" id="exp-shopping-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-entertainment-1"><label><span data-i18n-key="label_entertainment">Entertainment</span><span class="category-tag"></span></label><input type="number" id="exp-entertainment-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-travel-1"><label><span data-i18n-key="label_travel">Travel</span><span class="category-tag"></span></label><input type="number" id="exp-travel-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-pets-1"><label><span data-i18n-key="label_pets">Pets</span><span class="category-tag"></span></label><input type="number" id="exp-pets-1" class="form-control" min="0" value="0"></div>
                <div class="form-group" data-item-id="exp-donation-1"><label><span data-i18n-key="label_donation">Donation</span><span class="category-tag"></span></label><input type="number" id="exp-donation-1" class="form-control" min="0" value="0"></div>
            </div>
            <div class="custom-list" id="expense-list-container"></div>
            <div id="expense-form" class="form-grid">
                <div class="form-group">
                    <label for="expense-name-input" data-i18n-key="label_expense_name">기타 지출 항목</label>
                    <input type="text" id="expense-name-input" class="form-control" placeholder="e.g., Netflix">
                </div>
                <div class="form-group">
                    <label for="expense-amount-input" data-i18n-key="label_expense_amount">금액</label>
                    <input type="number" id="expense-amount-input" class="form-control" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label for="expense-category-select" data-i18n-key="label_category_type">카테고리</label>
                    <select id="expense-category-select" class="form-control"></select>
                </div>
                <button id="add-expense-btn" class="btn" data-i18n-key="btn_add_expense">기타 지출 추가</button>
            </div>
            <div class="chart-container"><canvas id="expenses-chart"></canvas></div>
        </section>

        <section class="budget-section">
            <div class="section-header">
                <h2 data-i18n-key="section_debt_title">부채 관리</h2>
                <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_debt">상환할 부채 목록을 관리합니다. 이자율이 높은 순서대로 상환하는 '눈사태(Avalanche)' 전략을 계산해 드립니다.</span></div>
            </div>
            <div id="debt-form" class="form-grid">
                <div class="form-group"><label for="debt-name-input" data-i18n-key="label_debt_name">부채 이름</label><input type="text" id="debt-name-input" class="form-control" placeholder="예: 신용카드 A" data-i18n-key="placeholder_debt"></div>
                <div class="form-group"><label for="debt-balance-input" data-i18n-key="label_debt_balance">현재 잔액</label><input type="number" id="debt-balance-input" class="form-control" placeholder="0"></div>
                <div class="form-group"><label for="debt-rate-input" data-i18n-key="label_debt_rate">이자율 (%)</label><input type="number" id="debt-rate-input" class="form-control" placeholder="0.0"></div>
                <div class="form-group"><label for="debt-payment-input" data-i18n-key="label_debt_min_payment">월 최소상환액</label><input type="number" id="debt-payment-input" class="form-control" placeholder="0"></div>
                <button id="add-debt-btn" class="btn" data-i18n-key="btn_add_debt">부채 추가</button>
            </div>
            <div id="debt-calculator" class="form-grid">
                <div class="form-group"><label for="debt-extra-payment-input" data-i18n-key="label_debt_extra_payment">월 추가 상환액</label><input type="number" id="debt-extra-payment-input" class="form-control" value="0" min="0"></div>
                <div id="debt-result-container"></div>
            </div>
            <div id="debt-list-container"></div>
        </section>

        <section class="budget-section">
            <div class="section-header">
                <h2 data-i18n-key="section_trends_title">재무 트렌드 분석</h2>
                <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_trends">매월 말 '이번 달 데이터 기록하기' 버튼을 눌러 데이터를 저장하고, 시간 경과에 따른 재무 변화를 차트로 확인하세요.</span></div>
            </div>
            <button id="record-history-btn" class="btn" data-i18n-key="btn_record_history">이번 달 데이터 기록하기</button>
            <div class="chart-container" style="height: 400px;"><canvas id="history-chart"></canvas></div>
        </section>
        
        <section class="budget-section">
            <div class="section-header"><h2 data-i18n-key="section_summary_title">Budget Summary</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_summary">모든 수입과 지출을 종합한 최종 요약입니다.</span></div></div>
            <div class="form-group">
                <label for="summary-frequency-select" data-i18n-key="label_summary_frequency">Summary Frequency:</label>
                <select id="summary-frequency-select" class="form-control"><option value="weekly" data-i18n-key="frequency_weekly">Weekly</option><option value="bi-weekly" data-i18n-key="frequency_bi_weekly">Bi-Weekly</option><option value="monthly" data-i18n-key="frequency_monthly">Monthly</option><option value="annual" data-i18n-key="frequency_annually">Annual</option></select>
            </div>
            <div id="summary-advanced-view" class="summary-results hidden">
                <p data-i18n-key="label_gross_salary">Gross Salary:</p> <span id="summary-gross-salary"></span>
                <p data-i18n-key="label_total_taxes">Total Taxes:</p> <span id="summary-total-taxes"></span>
                <p data-i18n-key="label_total_pre_tax">Total Pre-Tax Deductions:</p> <span id="summary-total-pre-tax"></span>
                <p data-i18n-key="label_total_post_tax">Total Post-Tax Deductions:</p> <span id="summary-total-post-tax"></span>
            </div>
            <div class="summary-results">
                <p data-i18n-key="label_net_salary">Net Salary (Take-Home):</p> <span id="summary-net-salary"></span>
                <p data-i18n-key="label_total_expenses">Total Expenses:</p> <span id="summary-total-expenses"></span>
                <p data-i18n-key="label_remaining_budget">Remaining Budget:</p> <span id="summary-remaining-budget"></span>
            </div>
            <div class="chart-container"><canvas id="budget-distribution-chart"></canvas></div>
        </section>

        <section class="budget-section">
            <div class="section-header"><h2 data-i18n-key="section_budget_rule_title">Budget Rule Application</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_budget_rule">널리 알려진 예산 규칙을 선택하여 현재 지출이 순수입(실수령액) 기준 목표에 얼마나 부합하는지 시각적으로 확인합니다.</span></div></div>
            <div class="form-group">
                <label for="budget-rule-select" data-i18n-key="label_budget_rule_select">Select Budget Rule:</label>
                <select id="budget-rule-select" class="form-control rule-select"><option value="50-30-20" data-i18n-key="rule_50_30_20_title">50/30/20 Rule</option><option value="70-20-10" data-i18n-key="rule_70_20_10_title">70/20/10 Rule</option><option value="80-20" data-i18n-key="rule_80_20_title">80/20 Rule</option></select>
            </div>
            <div id="budget-rule-breakdown"></div>
        </section>
        
        <section class="budget-section">
            <div class="section-header">
                <h2 data-i18n-key="section_goals_title">재무 목표 설정</h2>
                <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_goals">달성하고 싶은 재무 목표를 추가하고 관리합니다. '저축액 추가'에 금액을 입력하여 달성률을 업데이트할 수 있습니다.</span></div>
            </div>
            <div id="goal-form" class="form-grid">
                <div class="form-group"><label for="goal-name-input" data-i18n-key="label_goal_name">목표 이름</label><input type="text" id="goal-name-input" class="form-control" placeholder="예: 유럽 여행" data-i18n-key="placeholder_goal"></div>
                <div class="form-group"><label for="goal-target-input" data-i18n-key="label_goal_target">목표 금액</label><input type="number" id="goal-target-input" class="form-control" placeholder="0" min="0"></div>
                <button id="add-goal-btn" class="btn" data-i18n-key="btn_add_goal">목표 추가</button>
            </div>
            <div id="goal-list-container"></div>
        </section>

        <section class="budget-section">
            <div class="section-header">
                <h2 data-i18n-key="section_ai_title">AI Expense Report</h2>
                <div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_ai_report">입력된 데이터를 바탕으로 현재 재무 상태를 분석하고 개선을 위한 조언을 제공합니다.</span></div>
            </div>
            <div class="form-group">
                <label for="api-key-input">Gemini API Key</label>
                <input type="password" id="api-key-input" class="form-control" placeholder="이곳에 API 키를 붙여넣으세요" data-i18n-key="placeholder_api_key">
            </div>
            <button id="ai-report-btn" class="btn" data-i18n-key="btn_ai_report">Generate AI Report</button>
            <div id="ai-report-box" class="ai-report-box"><p data-i18n-key="ai_report_placeholder">Click "Generate AI Report" for insights.</p></div>
        </section>

        <section class="budget-section">
             <div class="section-header"><h2 data-i18n-key="section_data_title">Data Management</h2><div class="tooltip-container"><i class="ri-question-line tooltip-icon"></i><span class="tooltip-text" data-i18n-key="tooltip_data_management">현재까지 입력한 모든 데이터를 파일로 저장(Export)하거나, 저장했던 파일을 불러올(Import) 수 있습니다.</span></div></div>
            <div class="data-actions">
                <button id="export-json-btn" class="btn" data-i18n-key="btn_export">Export</button>
                <button id="import-json-btn" class="btn" data-i18n-key="btn_import">Import</button>
                <input type="file" id="import-json-input" accept=".json" style="display: none;">
                <button id="clear-all-data-btn" class="btn btn-danger" data-i18n-key="btn_clear_all_data">Clear Data</button>
                <button id="print-btn" class="btn" data-i18n-key="btn_print">Print</button>
                <button id="email-btn" class="btn" data-i18n-key="btn_email">Email</button>
                <button id="share-btn" class="btn" data-i18n-key="btn_share">Share</button>
            </div>
        </section>
    </main>
    
    <div id="modal-container" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="modal-title"></h3>
            <ul id="modal-list"></ul>
        </div>
    </div>

    <script src="../scripts/budget.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="app_title">예산 관리 도구</title>
    <link rel="stylesheet" href="../scripts/budget.css">
    <link rel="stylesheet" href="../scripts/remixicon.css">
    <script src="../scripts/chart.js"></script>
</head>
<body>
    <header>
        <h1 data-i18n-key="app_title">예산 관리 도구</h1>
        <div class="header-controls">
            <button id="language-toggle" class="icon-btn">EN</button>
            <button id="darkmode-toggle" class="icon-btn"><i class="ri-moon-line"></i></button>
        </div>
    </header>

    <main class="container">
        <section class="budget-section">
            <h2 data-i18n-key="section_salary_title">월별 총 급여</h2>
            <form id="salary-form">
                <div class="form-group">
                    <label for="salary-gross" data-i18n-key="label_gross_salary">총 급여</label>
                    <input type="number" id="salary-gross" min="0" value="0">
                </div>
                <button type="submit" class="btn" data-i18n-key="btn_save">저장</button>
            </form>
            </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_taxes_title">세금</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="tax-federal" data-i18n-key="label_federal_withholding">연방 원천징수</label>
                    <input type="number" id="tax-federal" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="tax-state" data-i18n-key="label_state_tax">주 세금</label>
                    <input type="number" id="tax-state" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="tax-oasdi" data-i18n-key="label_oasdi">OASDI</label>
                    <input type="number" id="tax-oasdi" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="tax-medicare" data-i18n-key="label_medicare">메디케어</label>
                    <input type="number" id="tax-medicare" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="tax-casdi" data-i18n-key="label_ca_sdi">CA SDI</label>
                    <input type="number" id="tax-casdi" min="0" value="0">
                </div>
            </div>
            <div class="custom-list" id="tax-custom-list">
            </div>
            <button class="btn add-custom-btn" data-type="tax" data-i18n-key="btn_add_item">항목 추가</button>

            <div class="chart-container">
                <canvas id="tax-chart"></canvas>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_pre_tax_title">세전 공제</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="deduct-medical" data-i18n-key="label_medical_premium">의료 보험료</label>
                    <input type="number" id="deduct-medical" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-dental" data-i18n-key="label_dental_premium">치과 보험료</label>
                    <input type="number" id="deduct-dental" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-vision" data-i18n-key="label_vision_premium">시력 보험료</label>
                    <input type="number" id="deduct-vision" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-401k-trad" data-i18n-key="label_401k_traditional">401k 일반</label>
                    <input type="number" id="deduct-401k-trad" min="0" value="0">
                </div>
            </div>
            <div class="custom-list" id="pre-tax-custom-list">
            </div>
            <button class="btn add-custom-btn" data-type="pre-tax" data-i18n-key="btn_add_item">항목 추가</button>

            <div class="chart-container">
                <canvas id="pre-tax-deduct-chart"></canvas>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_post_tax_title">세후 공제</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="deduct-spp" data-i18n-key="label_spp">주식 구매 계획</label>
                    <input type="number" id="deduct-spp" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-adnd" data-i18n-key="label_adnd">AD&D</label>
                    <input type="number" id="deduct-adnd" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-401k-roth" data-i18n-key="label_401k_roth">401k Roth</label>
                    <input type="number" id="deduct-401k-roth" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="deduct-ltd" data-i18n-key="label_ltd">장기 장애</label>
                    <input type="number" id="deduct-ltd" min="0" value="0">
                </div>
            </div>
            <div class="custom-list" id="post-tax-custom-list">
            </div>
            <button class="btn add-custom-btn" data-type="post-tax" data-i18n-key="btn_add_item">항목 추가</button>

            <div class="chart-container">
                <canvas id="post-tax-deduct-chart"></canvas>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_expenses_title">지출 관리</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="exp-rent" data-i18n-key="label_rent_mortgage">월세/주택담보대출</label>
                    <input type="number" id="exp-rent" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-utilities" data-i18n-key="label_utilities">공과금</label>
                    <input type="number" id="exp-utilities" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-internet" data-i18n-key="label_internet">인터넷</label>
                    <input type="number" id="exp-internet" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-phone" data-i18n-key="label_phone">휴대폰 요금</label>
                    <input type="number" id="exp-phone" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-groceries" data-i18n-key="label_groceries">식료품</label>
                    <input type="number" id="exp-groceries" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-dining" data-i18n-key="label_dining_out">외식</label>
                    <input type="number" id="exp-dining" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-transport" data-i18n-key="label_transportation">교통비</label>
                    <input type="number" id="exp-transport" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-shopping" data-i18n-key="label_shopping">쇼핑</label>
                    <input type="number" id="exp-shopping" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-health" data-i18n-key="label_health_wellness">건강/웰빙</label>
                    <input type="number" id="exp-health" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="exp-entertainment" data-i18n-key="label_entertainment">오락</label>
                    <input type="number" id="exp-entertainment" min="0" value="0">
                </div>
            </div>
            <div class="custom-list" id="expenses-custom-list">
            </div>
            <button class="btn add-custom-btn" data-type="expense" data-i18n-key="btn_add_item">항목 추가</button>

            <div class="chart-container">
                <canvas id="expenses-chart"></canvas>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_summary_title">예산 요약</h2>
            <div class="summary-results">
                <p data-i18n-key="label_gross_salary">총 급여:</p> <span id="gross-salary-summary-display">$0.00</span>
                <p data-i18n-key="label_total_taxes">총 세금:</p> <span id="total-taxes-display">$0.00</span>
                <p data-i18n-key="label_total_pre_tax">총 세전 공제액:</p> <span id="total-pre-tax-display">$0.00</span>
                <p data-i18n-key="label_total_post_tax">총 세후 공제액:</p> <span id="total-post-tax-display">$0.00</span>
                 <p data-i18n-key="label_net_salary">순 월 급여:</p> <span id="net-salary-display">$0.00</span>
                <p data-i18n-key="label_total_expenses">총 지출:</p> <span id="total-expenses-display">$0.00</span>
                <p data-i18n-key="label_remaining_budget">남은 예산:</p> <span id="remaining-budget-display">$0.00</span>
            </div>
            <div class="chart-container">
                <canvas id="budget-distribution-chart"></canvas>
            </div>
        </section>

        <section class="budget-section">
            <h2>예산 규칙 적용 (Budget Rules)</h2>
            <div class="form-group">
                <label for="budget-rule-select">예산 규칙 선택:</label>
                <select id="budget-rule-select" class="rule-select">
                    <option value="50-30-20">50/30/20 (필수/원하는 것/저축)</option>
                    <option value="70-20-10">70/20/10 (필수/원하는 것/저축)</option>
                    <option value="80-20">80/20 (필수/저축)</option>
                </select>
            </div>
            <div class="summary-results rule-breakdown">
                <p>필수 지출 (Needs): <span id="rule-needs">$0.00</span></p>
                <p>원하는 지출 (Wants): <span id="rule-wants">$0.00</span></p>
                <p>저축 (Savings): <span id="rule-savings">$0.00</span></p>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_ai_title">AI 지출 보고서</h2>
            <button id="ai-report-btn" class="btn" data-i18n-key="btn_ai_report">AI 보고서 생성</button>
            <div id="ai-report-box" class="ai-report-box">
                <p data-i18n-key="ai_report_placeholder">"AI 보고서 생성"을 클릭하여 지출 습관에 대한 통찰력을 얻으세요.</p>
            </div>
        </section>

        <section class="budget-section">
            <h2 data-i18n-key="section_data_title">데이터 관리</h2>
            <div class="data-actions">
                <button id="export-json-btn" class="btn" data-i18n-key="btn_export">JSON 내보내기</button>
                <button id="import-json-btn" class="btn" data-i18n-key="btn_import">JSON 가져오기</button>
                <input type="file" id="import-json-input" accept=".json" style="display: none;">
                <button id="clear-all-data-btn" class="btn btn-danger" data-i18n-key="btn_clear_all_data">모든 데이터 지우기</button>
            </div>
        </section>
    </main>

    <script src="../scripts/budget.js"></script>
</body>
</html>
